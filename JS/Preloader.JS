document.addEventListener("DOMContentLoaded", () => {
  const loader = document.querySelector(".loader-container");

  // ğŸ”¸ Al terminar de cargar la pÃ¡gina, ocultamos el loader
  window.addEventListener("load", () => {
    setTimeout(() => {
      loader.classList.add("hidden");
    }, 300);
  });

  // ğŸ”¸ Antes de salir de la pÃ¡gina, mostramos el loader
  document.querySelectorAll("a").forEach(link => {
    link.addEventListener("click", e => {
      const url = link.getAttribute("href");

      // Evita que se active en enlaces vacÃ­os, anchors o JS
      if (
        !url ||
        url.startsWith("#") ||
        url.startsWith("javascript:") ||
        link.target === "_blank"
      ) return;

      e.preventDefault();

      // Mostrar el loader visualmente
      loader.classList.remove("hidden");
      loader.style.opacity = "1";
      loader.style.visibility = "visible";

      // Redirigir despuÃ©s del fade-in
      setTimeout(() => {
        window.location.href = url;
      }, 1000); // â† este tiempo define cuÃ¡nto se ve el loader antes del cambio
    });
  });
});
